<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>সুরের বাজার - নতুন গানের সংগ্রহ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap');
        body { font-family: 'Hind Siliguri', sans-serif; margin: 0; background-color: #f4f6f8; }
        .navbar { background-color: #fff; padding: 15px 30px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 24px; font-weight: 700; color: #4a148c; }
        .hero { text-align: center; padding: 60px 20px; background: linear-gradient(to right, #6a11cb, #2575fc); color: white; }
        .hero h1 { font-size: 40px; margin-bottom: 10px; }
        .container { max-width: 1200px; margin: 30px auto; padding: 0 15px; }
        .category-section { margin-bottom: 40px; }
        .category-title { font-size: 28px; font-weight: 600; color: #333; border-bottom: 3px solid #4a148c; padding-bottom: 10px; margin-bottom: 20px; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
        .product-card { background-color: #fff; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); overflow: hidden; cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; }
        .product-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.12); }
        .product-card-info { padding: 20px; }
        .product-name { font-size: 18px; font-weight: 600; color: #1c1e21; margin: 0; }
        .product-brand { font-size: 14px; color: #666; margin: 5px 0 0; }
        .loader { text-align: center; padding: 50px; font-size: 20px; color: #555; }

        /* Modal Styles */
        .modal { display: none; position: fixed; z-index: 1001; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.7); backdrop-filter: blur(5px); }
        .modal-content { position: relative; background-color: #fff; margin: 5% auto; padding: 30px; width: 90%; max-width: 800px; border-radius: 10px; animation: slideIn 0.5s; }
        .close-btn { position: absolute; top: 15px; right: 25px; color: #aaa; font-size: 32px; font-weight: bold; cursor: pointer; }
        #modal-title { font-size: 28px; font-weight: 700; }
        #modal-artist { font-size: 18px; color: #555; margin-bottom: 20px; }
        #modal-lyrics { white-space: pre-wrap; font-size: 16px; line-height: 1.9; max-height: 40vh; overflow-y: auto; background-color: #f9f9f9; padding: 15px; border-radius: 5px; border: 1px solid #eee; margin-bottom: 20px; }
        .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        @keyframes slideIn { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="logo">সুরের বাজার</div>
    </nav>

    <header class="hero">
        <h1>আমাদের নতুন গানের সংগ্রহ</h1>
        <p>আপনার পছন্দের সব গান এখন এক ছাদের নিচে</p>
    </header>

    <div class="container" id="main-container">
        <div class="loader">আমাদের কালেকশন লোড হচ্ছে...</div>
    </div>

    <!-- The Modal -->
    <div id="lyrics-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="modal-title"></h2>
            <p id="modal-artist"></p>
            <h3>গানের কথা (Product Details):</h3>
            <div id="modal-lyrics"></div>
            <div id="modal-video-container" class="video-container"></div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
        const firebaseConfig = {
  apiKey: "AIzaSyAvGLLgml7Ww5gp79G__VpzEdLpkQ0CNQQ",
  authDomain: "lyrics-9c74b.firebaseapp.com",
  databaseURL: "https://lyrics-9c74b-default-rtdb.firebaseio.com",
  projectId: "lyrics-9c74b",
  storageBucket: "lyrics-9c74b.firebasestorage.app",
  messagingSenderId: "1036099155076",
  appId: "1:1036099155076:web:baa27015d24cc49bc7bed1",
  measurementId: "G-YPQQ6E3YVR"
};

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const lyricsRef = database.ref('lyrics');

        const mainContainer = document.getElementById('main-container');

        lyricsRef.on('value', (snapshot) => {
            mainContainer.innerHTML = '';
            const data = snapshot.val();
            if (data) {
                const categories = {};
                for (const key in data) {
                    const song = data[key];
                    if (!categories[song.category]) categories[song.category] = [];
                    categories[song.category].push({ key, ...song });
                }
                for (const categoryName in categories) {
                    const section = document.createElement('section');
                    section.className = 'category-section';
                    const title = document.createElement('h2');
                    title.className = 'category-title';
                    title.textContent = categoryName;
                    section.appendChild(title);
                    const grid = document.createElement('div');
                    grid.className = 'product-grid';
                    categories[categoryName].forEach(song => {
                        const card = document.createElement('div');
                        card.className = 'product-card';
                        card.setAttribute('data-key', song.key);
                        card.innerHTML = `<div class="product-card-info"><h3 class="product-name">${song.title}</h3><p class="product-brand">শিল্পী: ${song.artist}</p></div>`;
                        card.addEventListener('click', () => showLyrics(song.key));
                        grid.appendChild(card);
                    });
                    section.appendChild(grid);
                    mainContainer.appendChild(section);
                }
            } else {
                mainContainer.innerHTML = '<div class="loader">এখনো কোনো গান যোগ করা হয়নি।</div>';
            }
        });

        // Modal elements
        const modal = document.getElementById('lyrics-modal');
        const closeBtn = document.querySelector('.close-btn');
        const modalTitle = document.getElementById('modal-title');
        const modalArtist = document.getElementById('modal-artist');
        const modalLyrics = document.getElementById('modal-lyrics');
        const modalVideoContainer = document.getElementById('modal-video-container');

        function getYouTubeVideoId(url) {
            if (!url) return null;
            let ID = '';
            url = url.replace(/(>|<)/gi, '').split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/);
            if (url[2] !== undefined) {
                ID = url[2].split(/[^0-9a-z_\-]/i);
                ID = ID[0];
            } else {
                ID = url;
            }
            return ID;
        }

        function showLyrics(key) {
            database.ref('lyrics/' + key).once('value').then((snapshot) => {
                const song = snapshot.val();
                modalTitle.innerText = song.title;
                modalArtist.innerText = `শিল্পী: ${song.artist}`;
                modalLyrics.innerText = song.lyrics;
                
                const videoId = getYouTubeVideoId(song.videoLink);
                if (videoId) {
                    modalVideoContainer.innerHTML = `<iframe src="https://www.youtube.com/embed/${videoId}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
                    modalVideoContainer.style.display = 'block';
                } else {
                    modalVideoContainer.style.display = 'none';
                }
                
                modal.style.display = 'block';
            });
        }
        
        function closeAndClearModal() {
            modal.style.display = 'none';
            modalVideoContainer.innerHTML = ''; // ভিডিও বন্ধ করার জন্য iframe সরিয়ে দিন
        }

        closeBtn.onclick = closeAndClearModal;
        window.onclick = (event) => {
            if (event.target == modal) {
                closeAndClearModal();
            }
        }
    </script>
</body>
</html>
<script type='text/javascript' src='//pl27380074.profitableratecpm.com/01/66/4e/01664ebd6ca6655152a2ce4f050aa2f9.js'></script>

<script type='text/javascript' src='//pl27380024.profitableratecpm.com/63/f4/61/63f4616064817f06023f8cbd25e7232e.js'></script>
















